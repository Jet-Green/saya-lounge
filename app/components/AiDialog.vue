<script setup lang="ts">
let { dialog, step, nextStep, closeDialog } = useAiDialog()

const answers = ref({
  strength: null,
  taste: null,
  mood: null,
})

function askAi() {

}
</script>
<template>
  <v-dialog v-model="dialog" width="80vw" min-height="80vh" persistent eager>
    <v-card style="position: relative;">
      <div style="position: absolute; top: 10px; right: 10px; cursor: pointer; z-index: 1000;" @click="closeDialog">
        <img src="/icons/close-dialog-icon.svg" alt="">
      </div>
      <v-row v-if="step == 'preview'">
        <v-col cols="6" class="d-flex justify-center align-center">
          <v-row class="d-flex justify-center h-100">
            <v-col cols="8" lg="6" class="d-flex flex-column justify-space-around">
              <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏—Ä –≤–∫—É—Å–æ–≤, –∞—Ä–æ–º–∞—Ç–æ–≤ –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
                ‚Äî –∑–¥–µ—Å—å –∫–∞–∂–¥—ã–π –∫–æ–∫—Ç–µ–π–ª—å —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é</h2>

              <h3>–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏, —á—Ç–æ —á—É–≤—Å—Ç–≤—É–µ—à—å ‚Äî –∏ —è –ø–æ–¥–±–µ—Ä—É –Ω–∞–ø–∏—Ç–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥–æ–π–¥—ë—Ç —Ç–≤–æ–µ–º—É –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é.</h3>

              <v-btn class="step-button" @click="nextStep('select')">
                <h2 class="my-5">
                  –ö –ø–æ–¥–±–æ—Ä—É –∫–æ–∫—Ç–µ–π–ª—è
                </h2>
              </v-btn>
            </v-col>
          </v-row>
        </v-col>

        <v-col cols="6" style="overflow: hidden; height: 80vh;">
          <ClientOnly>
            <video autoplay loop muted playsinline class="hero-video">
              <source src="https://storage.yandexcloud.net/saya-lounge/videos/ai.mp4" type="video/mp4" />
              <!-- <source src="/videos/first-section.webm" type="video/webm" /> -->
            </video>
          </ClientOnly>
        </v-col>
      </v-row>
      <v-row v-else-if="step == 'select'" class="background-img d-flex justify-center">
        <v-col cols="12" class="pa-8">
          <!-- –í–æ–ø—Ä–æ—Å 1 -->
          <h2 class="mb-3">–ö–∞–∫—É—é –∫—Ä–µ–ø–æ—Å—Ç—å –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?</h2>
          <v-chip-group v-model="answers.strength" class="mb-6" selected-class="selected-chip">
            <v-chip value="light" variant="outlined" size="x-large">
              ü´ß –õ—ë–≥–∫–∏–π / –æ—Å–≤–µ–∂–∞—é—â–∏–π
            </v-chip>

            <v-chip value="medium" variant="outlined" size="x-large">
              üçπ –°—Ä–µ–¥–Ω–µ–π –∫—Ä–µ–ø–æ—Å—Ç–∏
            </v-chip>

            <v-chip value="strong" variant="outlined" size="x-large">
              ü•É –ö—Ä–µ–ø–∫–∏–π
            </v-chip>
          </v-chip-group>

          <!-- –í–æ–ø—Ä–æ—Å 2 -->
          <h2 class="mb-3">–ö–∞–∫–æ–π –ø—Ä–æ—Ñ–∏–ª—å –≤–∫—É—Å–∞ –≤–∞–º –±–ª–∏–∂–µ?</h2>
          <v-chip-group v-model="answers.taste" class="mb-6" selected-class="selected-chip">
            <v-chip value="sweet" variant="outlined" size="x-large">
              üç≠ –°–ª–∞–¥–∫–∏–π / —Ñ—Ä—É–∫—Ç–æ–≤—ã–π
            </v-chip>

            <v-chip value="sour" variant="outlined" size="x-large">
              üçã –ö–∏—Å–ª–æ-—Å–ª–∞–¥–∫–∏–π
            </v-chip>

            <v-chip value="bitter" variant="outlined" size="x-large">
              üåø –ì–æ—Ä—å–∫–æ–≤–∞—Ç—ã–π / —Ç–µ—Ä–ø–∫–∏–π
            </v-chip>
          </v-chip-group>

          <!-- –í–æ–ø—Ä–æ—Å 3 -->
          <h2 class="mb-3">–ö–∞–∫–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–∞–ø–∏—Ç–∫–æ–º?</h2>
          <v-chip-group v-model="answers.mood" selected-class="selected-chip">
            <v-chip value="evening" variant="outlined" size="x-large">
              üåÖ –õ—ë–≥–∫–∏–π –≤–µ—á–µ—Ä, –ø—Ä–æ–≥—É–ª–∫–∞, –∞–ø–µ—Ä–∏—Ç–∏–≤
            </v-chip>

            <v-chip value="party" variant="outlined" size="x-large">
              üéâ –Ø—Ä–∫–æ, –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ, —ç—Ñ—Ñ–µ–∫—Ç–Ω–æ
            </v-chip>

            <v-chip value="classic" variant="outlined" size="x-large">
              üñ§ –ö–ª–∞—Å—Å–∏–∫–∞, –≥–ª—É–±–∏–Ω–∞, —Ö–∞—Ä–∞–∫—Ç–µ—Ä
            </v-chip>
          </v-chip-group>

        </v-col>
        <v-col cols="12" md="6" lg="4">
          <v-btn class="step-button" :disabled="!answers.strength || !answers.taste || !answers.mood">
            <h2 class="my-4">
              –ü–æ–¥–æ–±—Ä–∞—Ç—å –∫–æ–∫—Ç–µ–π–ª–∏
            </h2>
          </v-btn>
        </v-col>
      </v-row>
      <v-row v-else-if="step == 'result'">

      </v-row>
    </v-card>
  </v-dialog>
</template>
<style>
.step-button {
  background-color: white;
  color: black;
  text-transform: none;
  height: fit-content !important;
  width: 100%;
}

.hero-video {
  object-fit: fill;
  object-position: center;
}

.background-img {
  background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.55)), url("/images/first-section.jpg");
  background-position: center;
  background-size: cover;
}

.selected-chip {
  background-color: white;
  color: black;
  /* background-color: rgba(255, 255, 255, 0.5); */
  /* box-shadow: 0 2px 2px rgba(255, 255, 255, 0.8); */
}
</style>